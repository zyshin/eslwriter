from django.test import TestCase
from eslwriter.views import group_query, sentence_query, dep_query
from eslwriter.utils import match_cost, parse_query_str
from eslwriter.thesaurus import synonyms, antonyms
from eslwriter.lemmatizer import lemmatize


class eslTestCase(TestCase):
    def setUp(self):
        pass

    def test_views_group_query(self):
        # Case 1: search '* (n+v) impact'
        case1_iiii = [[0], [700]]
        case1_dd = [(1, 0, 1)]
        case1_cids = [u'acm_trans_comput_hum_interact_tochi_', u'user_model_user_adapt_interact_umuai_', u'int_j_hum_comput_stud_ijmms_', u'mobile_hci', u'ecscw', u'uist', u'chi', u'its', u'iui', u'hci', u'ubicomp', u'cscw']
        case1_ref = [0, 700]
        case1_gr = group_query(iiii=case1_iiii, dd=case1_dd, cids=case1_cids, ref=case1_ref)
        case1_expected_gr = [{'qs': '{"ii": [0, 38, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 6}', 's': u'time ... impact', 'c': 6}, {'qs': '{"ii": [0, 439, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 6}', 's': u'delay ... impact', 'c': 6}, {'qs': '{"ii": [0, 604, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 5}', 's': u'choice ... impact', 'c': 5}, {'qs': '{"ii": [0, 581, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 4}', 's': u'activity ... impact', 'c': 4}, {'qs': '{"ii": [0, 113, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 4}', 's': u'type ... impact', 'c': 4}, {'qs': '{"ii": [0, 192, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 4}', 's': u'error ... impact', 'c': 4}, {'qs': '{"ii": [0, 373, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 4}', 's': u'location ... impact', 'c': 4}, {'qs': '{"ii": [0, 18, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 3}', 's': u'use ... impact', 'c': 3}, {'qs': '{"ii": [0, 86, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 3}', 's': u'information ... impact', 'c': 3}, {'qs': '{"ii": [0, 119, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 3}', 's': u'size ... impact', 'c': 3}, {'qs': '{"ii": [0, 754, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 3}', 's': u'technology ... impact', 'c': 3}, {'qs': '{"ii": [0, 773, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 3}', 's': u'display ... impact', 'c': 3}, {'qs': '{"ii": [0, 351, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 3}', 's': u'effect ... impact', 'c': 3}, {'qs': '{"ii": [0, 150, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 3}', 's': u'change ... impact', 'c': 3}, {'qs': '{"ii": [0, 1556, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 2}', 's': u'style ... impact', 'c': 2}, {'qs': '{"ii": [0, 56, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 2}', 's': u'method ... impact', 'c': 2}, {'qs': '{"ii": [0, 4158, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 2}', 's': u'dominance ... impact', 'c': 2}, {'qs': '{"ii": [0, 94, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 2}', 's': u'performance ... impact', 'c': 2}, {'qs': '{"ii": [0, 1120, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 2}', 's': u'limitation ... impact', 'c': 2}, {'qs': '{"ii": [0, 117, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 2}', 's': u'feature ... impact', 'c': 2}, {'qs': '{"ii": [0, 173, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 2}', 's': u'support ... impact', 'c': 2}, {'qs': '{"ii": [0, 1201, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 2}', 's': u'timing ... impact', 'c': 2}, {'qs': '{"ii": [0, 211, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 2}', 's': u'form ... impact', 'c': 2}, {'qs': '{"ii": [0, 2799, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 2}', 's': u'awareness ... impact', 'c': 2}, {'qs': '{"ii": [0, 764, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 2}', 's': u'aspect ... impact', 'c': 2}, {'qs': '{"ii": [0, 43, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 2}', 's': u'number ... impact', 'c': 2}, {'qs': '{"ii": [0, 4893, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 2}', 's': u'interruption ... impact', 'c': 2}, {'qs': '{"ii": [0, 1314, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 2}', 's': u'introduction ... impact', 'c': 2}, {'qs': '{"ii": [0, 1316, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 2}', 's': u'orientation ... impact', 'c': 2}, {'qs': '{"ii": [0, 1332, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 2}', 's': u'material ... impact', 'c': 2}, {'qs': '{"ii": [0, 1854, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 2}', 's': u'distortion ... impact', 'c': 2}, {'qs': '{"ii": [0, 333, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 2}', 's': u'software ... impact', 'c': 2}, {'qs': '{"ii": [0, 31110, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 2}', 's': u'crm ... impact', 'c': 2}, {'qs': '{"ii": [0, 393, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 2}', 's': u'difference ... impact', 'c': 2}, {'qs': '{"ii": [0, 417, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 2}', 's': u'architecture ... impact', 'c': 2}, {'qs': '{"ii": [0, 423, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 2}', 's': u'interface ... impact', 'c': 2}, {'qs': '{"ii": [0, 976, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 2}', 's': u'feedback ... impact', 'c': 2}, {'qs': '{"ii": [0, 476, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 2}', 's': u'interaction ... impact', 'c': 2}, {'qs': '{"ii": [0, 482, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 2}', 's': u'decision ... impact', 'c': 2}, {'qs': '{"ii": [0, 1031, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 1}', 's': u'background ... impact', 'c': 1}, {'qs': '{"ii": [0, 685, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 1}', 's': u'dimension ... impact', 'c': 1}, {'qs': '{"ii": [0, 96280, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 1}', 's': u'900m ... impact', 'c': 1}, {'qs': '{"ii": [0, 30, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 1}', 's': u'datum ... impact', 'c': 1}, {'qs': '{"ii": [0, 11808, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 1}', 's': u'literacy ... impact', 'c': 1}, {'qs': '{"ii": [0, 33, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 1}', 's': u'system ... impact', 'c': 1}, {'qs': '{"ii": [0, 34, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 1}', 's': u'model ... impact', 'c': 1}, {'qs': '{"ii": [0, 35, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 1}', 's': u'set ... impact', 'c': 1}, {'qs': '{"ii": [0, 177, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 1}', 's': u'solution ... impact', 'c': 1}, {'qs': '{"ii": [0, 1066, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 1}', 's': u'presence ... impact', 'c': 1}, {'qs': '{"ii": [0, 1579, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 1}', 's': u'finding ... impact', 'c': 1}, {'qs': '{"ii": [0, 4148, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 1}', 's': u'fluctuation ... impact', 'c': 1}, {'qs': '{"ii": [0, 54, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 1}', 's': u'problem ... impact', 'c': 1}, {'qs': '{"ii": [0, 2617, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 1}', 's': u'photo ... impact', 'c': 1}, {'qs': '{"ii": [0, 2741, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 1}', 's': u'intention ... impact', 'c': 1}, {'qs': '{"ii": [0, 1098, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 1}', 's': u'consistency ... impact', 'c': 1}, {'qs': '{"ii": [0, 592, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 1}', 's': u'direction ... impact', 'c': 1}, {'qs': '{"ii": [0, 1571, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 1}', 's': u'infrastructure ... impact', 'c': 1}, {'qs': '{"ii": [0, 83, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 1}', 's': u'work ... impact', 'c': 1}, {'qs': '{"ii": [0, 1113, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 1}', 's': u'visualization ... impact', 'c': 1}, {'qs': '{"ii": [0, 611, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 1}', 's': u'frequency ... impact', 'c': 1}, {'qs': '{"ii": [0, 612, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 1}', 's': u'response ... impact', 'c': 1}, {'qs': '{"ii": [0, 1130, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 1}', 's': u'variety ... impact', 'c': 1}, {'qs': '{"ii": [0, 110, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 1}', 's': u'design ... impact', 'c': 1}, {'qs': '{"ii": [0, 111, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 1}', 's': u'need ... impact', 'c': 1}, {'qs': '{"ii": [0, 628, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 1}', 's': u'game ... impact', 'c': 1}, {'qs': '{"ii": [0, 1144, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 1}', 's': u'nature ... impact', 'c': 1}, {'qs': '{"ii": [0, 641, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 1}', 's': u'noise ... impact', 'c': 1}, {'qs': '{"ii": [0, 644, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 1}', 's': u'recognition ... impact', 'c': 1}, {'qs': '{"ii": [0, 1158, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 1}', 's': u'modification ... impact', 'c': 1}, {'qs': '{"ii": [0, 1673, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 1}', 's': u'appearance ... impact', 'c': 1}, {'qs': '{"ii": [0, 261770, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 1}', 's': u'undervote ... impact', 'c': 1}, {'qs': '{"ii": [0, 715403, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 1}', 's': u'm-payment ... impact', 'c': 1}, {'qs': '{"ii": [0, 652, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 1}', 's': u'color ... impact', 'c': 1}, {'qs': '{"ii": [0, 2189, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 1}', 's': u'spread ... impact', 'c': 1}, {'qs': '{"ii": [0, 5270, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 1}', 's': u'augmentation ... impact', 'c': 1}, {'qs': '{"ii": [0, 153, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 1}', 's': u'variable ... impact', 'c': 1}, {'qs': '{"ii": [0, 3738, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 1}', 's': u'participation ... impact', 'c': 1}, {'qs': '{"ii": [0, 155, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 1}', 's': u'level ... impact', 'c': 1}, {'qs': '{"ii": [0, 8355, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 1}', 's': u'misalignment ... impact', 'c': 1}, {'qs': '{"ii": [0, 171, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 1}', 's': u'constraint ... impact', 'c': 1}, {'qs': '{"ii": [0, 181, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 1}', 's': u'cost ... impact', 'c': 1}, {'qs': '{"ii": [0, 347, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 1}', 's': u'range ... impact', 'c': 1}, {'qs': '{"ii": [0, 187, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 1}', 's': u'rule ... impact', 'c': 1}, {'qs': '{"ii": [0, 188, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 1}', 's': u'message ... impact', 'c': 1}, {'qs': '{"ii": [0, 5152, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 1}', 's': u'regulation ... impact', 'c': 1}, {'qs': '{"ii": [0, 14198, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 1}', 's': u'conformity ... impact', 'c': 1}, {'qs': '{"ii": [0, 1223, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 1}', 's': u'command ... impact', 'c': 1}, {'qs': '{"ii": [0, 205, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 1}', 's': u'way ... impact', 'c': 1}, {'qs': '{"ii": [0, 4131, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 1}', 's': u'blog ... impact', 'c': 1}, {'qs': '{"ii": [0, 4828, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 1}', 's': u'stiffness ... impact', 'c': 1}, {'qs': '{"ii": [0, 2784, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 1}', 's': u'interview ... impact', 'c': 1}, {'qs': '{"ii": [0, 4322, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 1}', 's': u'gender ... impact', 'c': 1}, {'qs': '{"ii": [0, 1254, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 1}', 's': u'movement ... impact', 'c': 1}, {'qs': '{"ii": [0, 4841, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 1}', 's': u'dr ... impact', 'c': 1}, {'qs': '{"ii": [0, 3306, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 1}', 's': u'expertise ... impact', 'c': 1}, {'qs': '{"ii": [0, 39, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 1}', 's': u'result ... impact', 'c': 1}, {'qs': '{"ii": [0, 6691, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 1}', 's': u'death ... impact', 'c': 1}, {'qs': '{"ii": [0, 4307, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 1}', 's': u'tagging ... impact', 'c': 1}, {'qs': '{"ii": [0, 1780, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 1}', 's': u'deployment ... impact', 'c': 1}, {'qs': '{"ii": [0, 245, 700], "ref": [0, 700], "dd": [[1, 0, 1]], "cids": ["acm_trans_comput_hum_interact_tochi_", "user_model_user_adapt_interact_umuai_", "int_j_hum_comput_stud_ijmms_", "mobile_hci", "ecscw", "uist", "chi", "its", "iui", "hci", "ubicomp", "cscw"], "gc": 1}', 's': u'pattern ... impact', 'c': 1}]
        self.assertEqual(case1_gr, case1_expected_gr)

    def test_views_sentence_query(self):
        # Case 1: search '* (n+v) impact'
        case1_ii = [38, 700]
        case1_dd = [[1, 0, 1]]
        case1_cids = [u'acm_trans_comput_hum_interact_tochi_', u'user_model_user_adapt_interact_umuai_', u'int_j_hum_comput_stud_ijmms_', u'mobile_hci', u'ecscw', u'uist', u'chi', u'its', u'iui', u'hci', u'ubicomp', u'cscw']
        case1_ref = [700]
        case1_start = 0
        case1_count = 100
        case1_sr = sentence_query(ii=case1_ii, dd=case1_dd, cids=case1_cids, ref=case1_ref, start=case1_start, count=case1_count)
        case1_expected_sr = [({'url': u'http://www.dblp.org/rec/bibtex/conf/uist/RetelnyRTLPRDVB14', 'source': u"UIST'14. D. Retelny et. al.Expert crowdsourcing with flash teams. "}, u'If a task finishes early, Foundry recalculates the starting <strong>times</strong> for all downstream tasks and emails all <strong>impacted</strong> workers with a new estimated start time for their next task.'), ({'url': u'http://www.dblp.org/rec/bibtex/conf/chi/HsiehC09', 'source': u"CHI'09. G. Hsieh et. al.mimir: a market-based real-time question and answer service. "}, u"Since it is possible that the <strong>time</strong> when a best answer is selected would <strong>impact</strong> the users' answering behavior, we selected the best answers in the two systems at the same time."), ({'url': u'http://www.dblp.org/rec/bibtex/conf/chi/BaumerST08', 'source': u"CHI'08. E. Baumer et. al.Exploring the role of the reader in the activity of blogging. "}, u'Non-chronous - While readers experience blog posts in temporal order, the exact <strong>times</strong> of the posts does not significantly <strong>impact</strong> the reading activity.'), ({'url': u'http://www.dblp.org/rec/bibtex/conf/cscw/JunuzovicD12', 'source': u"CSCW'12. S. Junuzovic et. al.Towards self-optimizing collaborative systems. "}, u'Think <strong>times</strong> can <strong>impact</strong> response times because when think times of commands are low, slower computers may fall behind the faster computers in processing the commands.'), ({'url': u'http://www.dblp.org/rec/bibtex/conf/cscw/JunuzovicD12', 'source': u"CSCW'12. S. Junuzovic et. al.Towards self-optimizing collaborative systems. "}, u'The additional processing <strong>time</strong> <strong>impacted</strong> the critical computer time when it was the source.'), ({'url': u'http://www.dblp.org/rec/bibtex/conf/cscw/JunuzovicD12', 'source': u"CSCW'12. S. Junuzovic et. al.Towards self-optimizing collaborative systems. "}, u'However, for the parallel policy, the processing <strong>time</strong> of any kind does not <strong>impact</strong> the critical computer time.')]
        self.assertEqual(case1_sr, case1_expected_sr)

    def test_views_dep_query(self):
        pass

    def test_utils_match_cost(self):
        # Case 1: search '* (n+v) impact'
        case1_t = [{u'i': 0, u'w': 3209236, u'l': 96, u'pt': 28}, {u'i': 1, u'w': 2, u'l': 2, u'pt': 4}, {u'i': 2, u'w': 11, u'l': 11, u'pt': 14}, {u'i': 3, u'w': 1, u'l': 1, u'pt': 11}, {u'i': 4, u'w': 407, u'l': 407, u'pt': 15}, {u'i': 5, u'w': 413, u'l': 413, u'pt': 20}, {u'i': 6, u'w': 2, u'l': 2, u'pt': 4}, {u'i': 7, u'w': 1, u'l': 1, u'pt': 11}, {u'i': 8, u'w': 459, u'l': 459, u'pt': 20}, {u'i': 9, u'w': 38, u'l': 38, u'pt': 20}, {u'i': 10, u'w': 5, u'l': 5, u'pt': 14}, {u'i': 11, u'w': 87, u'l': 87, u'pt': 11}, {u'i': 12, u'w': 845, u'l': 845, u'pt': 20}, {u'i': 13, u'w': 3116610, u'l': 46, u'pt': 40}, {u'i': 14, u'w': 23, u'l': 23, u'pt': 28}, {u'i': 15, u'w': 700, u'l': 700, u'pt': 35}, {u'i': 16, u'w': 1, u'l': 1, u'pt': 11}, {u'i': 17, u'w': 886, u'l': 886, u'pt': 15}, {u'i': 18, u'w': 532, u'l': 532, u'pt': 20}, {u'i': 19, u'w': 38, u'l': 38, u'pt': 20}, {u'i': 20, u'w': 3, u'l': 3, u'pt': 7}]
        case1_m = (9, 15)
        case1_ref = [700]
        case1_tt = [0]
        case1_mc = match_cost(T=case1_t, m=case1_m, ref=case1_ref, tt=case1_tt)
        self.assertEqual(case1_mc, 9223372036854775807)

    def test_utils_parse_query_str(self):
        case1_q = "open (v+n) door"
        case1_pqs = parse_query_str(q=case1_q)
        self.assertEqual(case1_pqs, (['open', 'door'], [(2, 0, 1)]))

    def test_thesaurus_synonyms(self):
        case1_word = "incomprehensible"
        case1_syn = synonyms(word=case1_word)
        case1_expected_res = ['incomprehensible', u'unfathomable', u'unintelligible', u'puzzling', u'opaque',
                               u'unimaginable', u'mystifying', u'baffling', u'inconceivable', u'impenetrable',
                               u'enigmatic', u'unclear', u'fathomless', u'incognizable', u'inscrutable', u'mysterious',
                               u'perplexing', u'sibylline', u'ungraspable', u'delphic', u'unknowable', u'cryptic',
                               u'greek', u'obscure']
        self.assertEqual(case1_syn, case1_expected_res)

    def test_thesaurus_antonyms(self):
        case1_word = "inexplicable"
        case1_ant = antonyms(word=case1_word)
        case1_expected_res = [u'usual', u'fathomable', u'standard', u'regular', u'normal', u'understandable',
                              u'explainable', u'comprehensible', u'intelligible', u'explicable', u'comprehendible']
        self.assertEqual(case1_ant, case1_expected_res)

    def test_lemma_lemmatize(self):
        case1_s = "Our"
        self.assertEqual(lemmatize(case1_s), u'we')

        case2_s = "social media"
        self.assertEqual(lemmatize(case2_s), u'social')

        case3_s = "discuss"
        self.assertEqual(lemmatize(case3_s), u'discuss')

        case4_s = "assess?"
        self.assertEqual(lemmatize(case4_s), u'assess?')

        case5_s = "details"
        self.assertEqual(lemmatize(case5_s), u'detail')

        case6_s = "times"
        self.assertEqual(lemmatize(case6_s), u'time')

        case7_s = "ACM"
        self.assertEqual(lemmatize(case7_s), u'acm')
